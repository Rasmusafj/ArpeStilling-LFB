<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Social Data Analysis - Final Project</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/custom.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- D3 js library for visualizations -->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>

	<!-- for cool D3 tooltips! -->
	<!-- <script src="js/d3.tip.v0.6.3.js"></script> -->
</head>

<body id="page-top" class="index">

    <div id="skipnav"><a href="#maincontent">Skip to main content</a></div>
    <!-- Navigation in top-->
    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top navbar-custom">
        <div class="container">

            <div class="navbar-header page-scroll">
                <!-- Menu for better small screen display -->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="#page-top">02806 - Final Project</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#section1">Exploring Data</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#section2">Visualizations</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#section3">Clustering</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#section4">Decision Tree</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#section5">Multiple Reg.</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header>
    <style type="text/css">
        .bgimg {
        background-image: url('./img/Burning-Building.jpg');
          -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover
  padding-right: 0px;
  padding-left: 0px;
};
</style>
        <div class="container bgimg" id="maincontent" tabindex="-1">
         <div class="row">
             <div class="col-lg-12">
                <div class="intro-text">
                    <hr class="line-light">
                    <h1 class="name">Assignment 3B </h1>
                    <span class="skills">02806 - Social Data Analysis and Visualization F17</span>
                    <hr class="line-light">
                    <p> Visualizing the London Fire Brigade incidents using the D3 JavaScript library</p>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- 2A section-->
<section id="section1">
    <div class="container visualizations">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2> Exploring the Data</h2>
                <hr class="line-primary">
            </div>
            <div class="col-lg-3"></div>
            <div class="col-lg-6">
                <p>
					While exploring our datasets, we found this interesting
					correlation between the average temperature of each
					month and the number of incidents for the corresponding
					month. Note that scaling have been applied to the data
					in order to bring the values into the interval of [0;1].
					If this wasn't done, the temperature values would have
					been extremely low and the correlation would have been
					impossible to see.
                </p>
                <p>
                </p>
            </div>
        </div>
        <div class="text-center" id="temp_plot"></div>
    </div>


</section>

<section id="section2">
    <div class="container visualizations">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2>Incident Distribution</h2>
                <hr class="line-primary">
            </div>
            <div class="col-lg-3"></div>
            <div class="col-lg-6">
                <p>
					In the figure below you will find a map of Inner London.
					To the right of the map is a bar plot which shows the
					distribution of the incident types scaled by the number
					of residents in the area. The data is from the years
					2013-2016.
					You can hover over a borough, and
					the bar plot will display the data for that area. Neat!
					The incident types are 'false alarm', 'special service' and
					'fire'. 'Total' is the total number of incidents in the
					period per resident.
                </p>
                <p>
					When looking at the Westminster borough we see that it has
					the most incidents per resident in the area, with a little
					over half of the incidents being false alarms.
					The neighboring borough of City of London have less reported
					fire incidents per resident, but a much larger fraction of
					their reported incidents are false alarms.
				</p>
				<p>
					False alarms incidents account for most of the reported
					incidents in all boroughs, which means that the LFB
					spends most of their time attending false alarms. It
					would be very beneficial if there was some way that we
					could reduce this number.
                </p>
            </div>
        </div>
			<div class="row">
				<div class="col-sm-9" id="geoplot"></div>
				<div class="col-sm-3" id="tinybar"></div>
			</div>
 </div>
</section>

<section id="section3">
    <div class="container visualizations">
    <div class="row text-left">
            <div class="col-lg-12 text-center">
                <h2>Relocating London</h2>
                <h2> Fire Stations</h2>
                <hr class="line-primary">
            </div>
            <div class="col-lg-2 "></div>
            <div class="col-lg-8 ">
                <p>
                Imagine that the government told London Fire Brigade that they want all of their fire stations to be relocated
                in order to be placed even better. They will here ask the data science guys whether they have a method to do this! 
                Luckily, we have taken the course 02806 - Social Data analysis and visualization at DTU, so we can easily help them. 
                </p>
                <p>
                Since the London Fire Brigade has 57 different fire stations in inner London, we will illustrate our method on a subset of authorities: "Kensington and Chelsea", "Westminster", "Camden", and "Islington". The method is easily extended to include all of London if desired. 
                </p>
                <p>
                We propose to create clusters using K-means. The centroids of the K-means algorithm will correspond to the suggested new places of fire stations. The visualization in D3 also lets the viewer see how the fire stations are currently placed. If the London Fire Brigade decides that they want to completely remove x number of stations and relocate the rest, we have trained multiple K-means models using different values of K. 
                </p>
                <p>
                    We created the visualization such that you can preview the result when hovering over the buttons. 
                </p>
            </div>  
    </div>
    <div class="btn-group" role="group" id="button-group1">
                <label id="kmeans12" class="btn btn-primary active"><i>K=12</i></label>
                <label id="original" class="btn btn-primary"><i> Actual Locations </i></label>
            </div>
    <div id="fire_stations"></div>
    <div class="row text-left">

        <div class="col-lg-2"></div>
        <div class="col-lg-8">
            <h3> Conclusion </h3>
            <p>
            Of course this tactic would never be applicable in a real scenarior. We cannot just remove all fire stations, so many other factors will be important and the different stations will naturally also vary in size. However, it is a nice and fun way to illustrate what we learned during the course with some new, fun and interesting data. 
            </p>
        </div>
    </div>

</section>

<section id=section4>
    <div class="container visualizations">
    <div class="row text-left">
            <div class="col-lg-12 text-center">
                <h2>Decision Tree</h2>
                <hr class="line-primary">
            </div>
            <div class="col-lg-2 "></div>
            <div class="col-lg-8 ">
                <p>
                As you probably already know, there are three different types of incidents; Fire, False Alarm, Special Incidents. Imagine that the London Fire Brigade loses these labels for their data i.e. their dataset has become corrupt. How will they know which incident belonged to what type? 
                </p>
                <p>
                Therefore, we decided to create a decision tree that will clasify the incident type. The accuracy of the tree (on test data not used for training) is 46%, which is not that good but still a lot better than random guessing. We performed under-sampling prior to training the classifier. 
                </p>
                <p>
                The visualization is interactive such that the user is able to collapse the nodes in order to get a better overview. 
                </p>
            </div>  
            <div id="tree"></div>
            <div class="row text-left"></div>

            <div class="col-lg-2"></div>
            
            <div class="col-lg-8">
            <h3> Conclusion </h3>
            <p>
            Again, the classification is only used in order to illustrate what we learned during the course. In a real life setup, the London Fire Brigade would never be able to ignore a call because their algorithm tells them that there is 90% probability of the call being a false alarm. 
            </p>
            </div>
        </div>
    </div>
</section>
<section id=section5>
    <div class="container visualizations">
    <div class="row text-left">
            <div class="col-lg-12 text-center">
                <h2>Multiple Regression</h2>
                <hr class="line-primary">
            </div>
            <div class="col-lg-2 "></div>
            <div class="col-lg-8 ">
                <p>
                The London Fire Brigade wishes to create an estimate for when the firepump will arrive after they receive a phone call or ping from an alarm. We assume that the estimated time before arrival (ETA) is very dependant on the distance from nearest fire station, but other factors such as time of day, month, temperature and so on might also have a big effect on the time taken to arrive. 
                </p>
                <p>
                We created a multiple regression model that is able to calculate the ETA based on multiple factors (features). Furthermore, we made a d3 visualization such that you basically click on the map where the incident is happening, and then the model will instantly give you the ETA time. Furthermore, you are able to tamper with other conditions such as time, temperature and so on. 
                </p>
            </div>
            <div class="col-lg-8">
                <h2 class="text-center" id ="ETA" >
                    ETA: Click on Map
                </h2>
            </div> 
            <div class="col-lg-4 text-left">
            <p>
                select a temperature in C: 
                <form>
                <select id="temperature_select">
                    <option value="-10">-10</option>
                    <option value="-8">-8</option>
                    <option value="-6">-6</option>
                    <option value="-4">-4</option>
                    <option value="-2">-2</option>
                    <option value="0">0</option>
                    <option value="2">2</option>
                    <option value="4">4</option>
                    <option value="6">6</option>
                    <option value="8">8</option>
                    <option value="10">10</option>
                    <option value="12">12</option>
                    <option value="14">14</option>
                    <option value="16">16</option>
                    <option value="18">18</option>
                    <option value="20">20</option>
                    <option value="22">22</option>
                    <option value="24">24</option>
                    <option value="26">26</option>
                    <option value="28">28</option>
                    <option value="30">30</option>
                </select>
                </form>
            </p> 
                    
            </div>
            <div class="text-center" id="regression"></div>
            <div class="row text-left"></div>
            

            <div class="col-lg-2"></div>
            <div class="col-lg-8">
            <h3> Conclusion </h3>
            <p>
            We did some cool, simple machine learning in order to calculate ETAs. In the real world the Fire Brigade would probably use a tool that works similar to a GPS where real time data is also taken into consideration. However, they are free to use our webpage calculator the next time they receive a phone call regarding fire. 
            </p>
            </div>
        </div>
    </div>
</section>
<!-- Footer -->
<footer class="text-center">
	<div class="footer-below">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					Copyright &copy; ArpeStilling 2017
				</div>
			</div>
		</div>
	</div>
</footer>

<!-- jQuery -->
<script src="vendor/jquery/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<!-- Theme JavaScript plus add small useful JS functions -->
<script src="js/custom.js"></script>

<!-- add the plot scripts to the website -->
<script src="js/tempplot.js"></script>
<script src="js/barplot.js"></script>
<script src="js/tinybars.js"></script>
<script src="js/geoplot.js"></script>
<script src="js/relocating_fire_stations.js"></script>
<script src="js/desicion_tree.js"></script>
<script src="js/multiple_regression.js"></script>

</body>
</html>
